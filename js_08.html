<!-- 
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
js_08.html
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
	<1단계> prompt 상자 띄우고 [아이디] 입력
	--------------------
	<2단계> [아이디]가 "abc"일 경우 <3단계> 이동, 
			2회 까지 아닐 경우 <1단계>로 이동
			3회 까지 아닐 경우 웹화면에 "로그인 실패" 출력하고 중단.
	--------------------
	<3단계> prompt 상자 띄우고 [암호] 입력
	--------------------
	<4단계> [암호]가 "123"일 경우 <5단계> 이동.
			2회 까지 아닐 경우 <3단계>로 이동.
			3회 까지 아닐 경우 웹화면에 "로그인 실패" 출력하고 중단.
	--------------------
	<5단계> 웹 화면에 "로그인 성공..." 출력
 -->


<!DOCTYPE html>
<html>
<meta charset="utf-8">
<head>
	<title></title>
			<script type="text/javascript">
		
		//-------------------------
		// 아이디를 체크하는 함수 선언.
		// 아이디를 잘못 입력하면 계속 아이디를 입력하라고 한다.
		//-------------------------
		var idErrorCnt= 0;
		var pwdErrorCnt=0;
		var id_lastChance=3;
		var pwd_lastChance=3;

		function check_id(){
			// prompt 상자를 띄우고 아이디를 입력 받아 변수에 저장하기
			var id = prompt("아이디 입력 요망","");
			// 만약 아이디가 abc가 아니면 check_id()함수 호출하기
				
				//-----------------
				//만약 아이디가 abc 가 아니면
				//-----------------
				if(id!="abc"){
					//idErrorCnt 변수안의 데이터 1증가
					idErrorCnt++;
					//만약 idErrorCnt 변수안의 데이터가 id_lastChance 변수안의
					//데이터보다 미만이면 check_id() 함수 호출
					if(idErrorCnt<id_lastChance){
					check_id();
					}
				}
			
			}
		


		//-------------------------
		// 암호를 체크하는 함수 선언.
		// 암호를 잘못 입력하면 계속 아이디를 입력하라고 한다.
		//-------------------------
		
		function check_pwd(){
			// prompt 상자를 띄우고 아이디를 입력 받아 변수에 저장하기
			var pwd = prompt("암호 입력 요망","");
			// 만약 아이디가 abc가 아니면 check_id()함수 호출하기
			
				//-----------------
				// 만약 암호가 123이 아니면
				//-----------------
				if(pwd!="123"){
					//pwdErrorCnt 변수안의 데이터 1증가
					pwdErrorCnt++;
					//만약 pwdErrorCnt 변수안의 데이터가 id_lastChance 변수안의
					//데이터보다 미만이면 check_id() 함수 호출
					if(pwdErrorCnt<pwd_lastChance){
					check_pwd(); //자기가 자기함수를 부른다고 해서 [재귀함수호출]이라고 한다.
					}

				}
			}
		

		// check_id 함수를 호출하고 호출이 끝나면 check_pwd 함수 호출하고 호출이 끝나면
		// 로그인 성공 출력하는 함수 선언
		// 이 함수는 실질적으로 아이디, 암호를 체크하지는 않고 전체 프로그램의 컨트롤 역할만 하고 있다.
		//-----------------
		function controll(){
			
		//-----------------
			//check_id() 함수 호출로 아이디 체크하기
			// <주의> check_id() 함수가 완전히 끝나야 
			// 다음 코드가 실행된다.
			//-----------------
			check_id();
			//-----------------
			if (idErrorCnt==id_lastChance){
				document.write("[아이디]"+idErrorCnt+"회 잘못 입력으로 로그인실패...");
				return;
			}
			
			//-----------------
			//check_pwd() 함수 호출로 아이디 체크하기
			// <주의> check_pwd() 함수가 완전히 끝나야 다음 코드가 실행된다.
			//-----------------
			check_pwd();
			//-----------------
			//만약 pwdErrorCnt 변수안의 데이터가 pwd_lastChance 변수안의 숫자와 일치하면
			// 경고하고, 로그인 실패 메시지를 출력하고 함수중단
			//-----------------
			
			if (pwdErrorCnt==pwd_lastChance){
				document.write("[암호]" + pwdErrorCnt+"회 잘못 입력으로 로그인실패...");
				return;
			}
			// body 태그 안에 "로그인 성공" 문자열 출력. 
			document.write("로그인성공...");
		}
	</script>
</head>
<body>

	<script type="text/javascript">

		controll();	

		

	</script>
</body>
</html>
<!-- 
------------------------------------------
<문1> control(); 코딩을 funtion check_id(){} 코딩 이전으로 옮기면?
    즉 함수 선언 이전에 함수 호출 코딩이 나온다면?
------------------------------------------
	에러 없이 그대로 호출이 된다.
	웹브라우저는 html 파일을 읽어들일 때 함수만 먼저 뽑아서 읽어들인다.
	그 이후 위에서 아래로 차례대로 읽어들인다.





 -->





